<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#44668D"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>MessageContext | VK-IO</title><meta name="description" content="Современный VK API SDK для Node.js">
    <link rel="modulepreload" href="/vk-io/assets/app.4383cdfd.js"><link rel="modulepreload" href="/vk-io/assets/message.html.f013e986.js"><link rel="modulepreload" href="/vk-io/assets/message.html.ecde543e.js"><link rel="prefetch" href="/vk-io/assets/index.html.58d39e55.js"><link rel="prefetch" href="/vk-io/assets/index.html.a51fa1a0.js"><link rel="prefetch" href="/vk-io/assets/index.html.a1773881.js"><link rel="prefetch" href="/vk-io/assets/auth.html.5c3c556a.js"><link rel="prefetch" href="/vk-io/assets/api.html.f12a44c5.js"><link rel="prefetch" href="/vk-io/assets/attachments.html.6509ffd9.js"><link rel="prefetch" href="/vk-io/assets/collect-iterator.html.b86074d0.js"><link rel="prefetch" href="/vk-io/assets/collect.html.04c2e4fa.js"><link rel="prefetch" href="/vk-io/assets/contexts.html.98ae8322.js"><link rel="prefetch" href="/vk-io/assets/installation.html.977a8e07.js"><link rel="prefetch" href="/vk-io/assets/introduction.html.42271c9f.js"><link rel="prefetch" href="/vk-io/assets/keyboard.html.70ae767f.js"><link rel="prefetch" href="/vk-io/assets/migration-to-v4.html.ea3a9709.js"><link rel="prefetch" href="/vk-io/assets/modules.html.19d9d98a.js"><link rel="prefetch" href="/vk-io/assets/updates.html.84657d38.js"><link rel="prefetch" href="/vk-io/assets/upload.html.8530f387.js"><link rel="prefetch" href="/vk-io/assets/utils.html.bd633ecc.js"><link rel="prefetch" href="/vk-io/assets/audio.html.7c044a5d.js"><link rel="prefetch" href="/vk-io/assets/document.html.8fd91dab.js"><link rel="prefetch" href="/vk-io/assets/photo.html.da522140.js"><link rel="prefetch" href="/vk-io/assets/video.html.b8f1a4aa.js"><link rel="prefetch" href="/vk-io/assets/wall.html.ee0020a8.js"><link rel="prefetch" href="/vk-io/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/vk-io/assets/index.html.653506ee.js"><link rel="prefetch" href="/vk-io/assets/index.html.7504ad96.js"><link rel="prefetch" href="/vk-io/assets/index.html.a8413569.js"><link rel="prefetch" href="/vk-io/assets/auth.html.808c29e6.js"><link rel="prefetch" href="/vk-io/assets/api.html.cc915eef.js"><link rel="prefetch" href="/vk-io/assets/attachments.html.fb15bef5.js"><link rel="prefetch" href="/vk-io/assets/collect-iterator.html.128fc180.js"><link rel="prefetch" href="/vk-io/assets/collect.html.7cd6a264.js"><link rel="prefetch" href="/vk-io/assets/contexts.html.386627d3.js"><link rel="prefetch" href="/vk-io/assets/installation.html.34c1452b.js"><link rel="prefetch" href="/vk-io/assets/introduction.html.9f16f522.js"><link rel="prefetch" href="/vk-io/assets/keyboard.html.8afeff10.js"><link rel="prefetch" href="/vk-io/assets/migration-to-v4.html.0424f4a7.js"><link rel="prefetch" href="/vk-io/assets/modules.html.df930aaf.js"><link rel="prefetch" href="/vk-io/assets/updates.html.52a443e3.js"><link rel="prefetch" href="/vk-io/assets/upload.html.041f83eb.js"><link rel="prefetch" href="/vk-io/assets/utils.html.181729aa.js"><link rel="prefetch" href="/vk-io/assets/audio.html.e091b6b3.js"><link rel="prefetch" href="/vk-io/assets/document.html.449ec413.js"><link rel="prefetch" href="/vk-io/assets/photo.html.f11608e8.js"><link rel="prefetch" href="/vk-io/assets/video.html.57b4f1d0.js"><link rel="prefetch" href="/vk-io/assets/wall.html.586978e7.js"><link rel="prefetch" href="/vk-io/assets/404.html.08eac397.js">
    <link rel="stylesheet" href="/vk-io/assets/style.f4dbd3cb.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/vk-io/ru/" class=""><img class="logo" src="/vk-io/logo.svg" alt="VK-IO"><span class="site-name can-hide">VK-IO</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/vk-io/ru/guide/introduction" class="" aria-label="Guide [RU]"><!--[--><!--]--> Guide [RU] <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Community"><span class="title">Community</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Community"><span class="title">Community</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://t.me/vkio_ru" rel="noopener noreferrer" target="_blank" aria-label="Telegram [RU]"><!--[--><!--]--> Telegram [RU] <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/vk-io/references/" class="" aria-label="References"><!--[--><!--]--> References <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/negezor/vk-io/tree/master/docs/examples" rel="noopener noreferrer" target="_blank" aria-label="Examples"><!--[--><!--]--> Examples <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vk-io/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/vk-io/ru/api-reference/contexts/message.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Русский"><!--[--><!--]--> Русский <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/negezor/vk-io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/vk-io/ru/guide/introduction" class="" aria-label="Guide [RU]"><!--[--><!--]--> Guide [RU] <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Community"><span class="title">Community</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Community"><span class="title">Community</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://t.me/vkio_ru" rel="noopener noreferrer" target="_blank" aria-label="Telegram [RU]"><!--[--><!--]--> Telegram [RU] <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/vk-io/references/" class="" aria-label="References"><!--[--><!--]--> References <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/negezor/vk-io/tree/master/docs/examples" rel="noopener noreferrer" target="_blank" aria-label="Examples"><!--[--><!--]--> Examples <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vk-io/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/vk-io/ru/api-reference/contexts/message.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Русский"><!--[--><!--]--> Русский <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/negezor/vk-io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="messagecontext" tabindex="-1"><a class="header-anchor" href="#messagecontext" aria-hidden="true">#</a> MessageContext</h1><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> MessageContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vk-io&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="updates" tabindex="-1"><a class="header-anchor" href="#updates" aria-hidden="true">#</a> Updates</h2><ul><li>Событие <code>message</code></li><li>Возможные подтипы <code>new_message</code>, <code>edit_message</code></li></ul><blockquote><p>Обратите внимание</p></blockquote><blockquote><p>Если вы используете свойства контекста напрямую, то это может привести к проблемам несовместимости кода в дальнейшем, используйте лучше методы getter&#39;ы</p></blockquote><blockquote><p>Так как контекст реализует совместимость с несколькими способами получения данных</p></blockquote><h2 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor" aria-hidden="true">#</a> Constructor</h2><p>Инициализация новой инстанции</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">MessageContext</span><span class="token punctuation">(</span>vk<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>vk</td><td>VK</td><td>Инстанция VK</td></tr><tr><td>payload</td><td>Object</td><td><a href="https://vk.com/dev/objects/message" target="_blank" rel="noopener noreferrer">Объект сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><p>Контекст сообщений, наследует <a href="/vk-io/ru/api-reference/contexts/context.html" class="">Context</a></p><h2 id="loadmessagepayload" tabindex="-1"><a class="header-anchor" href="#loadmessagepayload" aria-hidden="true">#</a> loadMessagePayload</h2><p>Перезагружает сообщения с сервера</p><p>Например, если вы используете <a href="/vk-io/ru/api-reference/updates.html#startpolling" class="">polling</a> где получается только часть данных сообщения (отсутствуют полные данные о геолокации, пересланных сообщениях, прикреплениях)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">loadMessagePayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="hasattachments" tabindex="-1"><a class="header-anchor" href="#hasattachments" aria-hidden="true">#</a> hasAttachments</h2><p>Проверяет наличие прикреплений</p><p>При передаче параметра проверит наличие всех прикреплений указанного типа</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">hasAttachments</span><span class="token punctuation">(</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>type</td><td>string</td><td>Тип прикрепления</td></tr></tbody></table><h2 id="hastext" tabindex="-1"><a class="header-anchor" href="#hastext" aria-hidden="true">#</a> hasText</h2><p>Проверяет наличие текста</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>hasText<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="hasreplymessage" tabindex="-1"><a class="header-anchor" href="#hasreplymessage" aria-hidden="true">#</a> hasReplyMessage</h2><p>Проверяет наличие сообщения, в ответ на которое отправлено текущее</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>hasReplyMessage<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="hasforwards" tabindex="-1"><a class="header-anchor" href="#hasforwards" aria-hidden="true">#</a> hasForwards</h2><p>Проверяет наличие пересланных сообщений</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>hasForwards<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="hasgeo" tabindex="-1"><a class="header-anchor" href="#hasgeo" aria-hidden="true">#</a> hasGeo</h2><p>Проверяет наличие геолокации</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>hasGeo<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ischat" tabindex="-1"><a class="header-anchor" href="#ischat" aria-hidden="true">#</a> isChat</h2><p>Проверяет что сообщение пришло из чата (беседы)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isChat<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isuser" tabindex="-1"><a class="header-anchor" href="#isuser" aria-hidden="true">#</a> isUser</h2><p>Проверяет что сообщение пришло от пользователя</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isUser<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isgroup" tabindex="-1"><a class="header-anchor" href="#isgroup" aria-hidden="true">#</a> isGroup</h2><p>Проверяет что сообщение пришло от группы</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isGroup<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isfromuser" tabindex="-1"><a class="header-anchor" href="#isfromuser" aria-hidden="true">#</a> isFromUser</h2><p>Проверяет что сообщение пришло в диалоге с пользователем</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isFromUser<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isfromgroup" tabindex="-1"><a class="header-anchor" href="#isfromgroup" aria-hidden="true">#</a> isFromGroup</h2><p>Проверяет что сообщение пришло в диалоге с группой</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isFromGroup<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isevent" tabindex="-1"><a class="header-anchor" href="#isevent" aria-hidden="true">#</a> isEvent</h2><p>Проверяет что сообщение является событием (например приглашение пользователя)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isEvent<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isoutbox" tabindex="-1"><a class="header-anchor" href="#isoutbox" aria-hidden="true">#</a> isOutbox</h2><p>Проверяет что сообщение является исходящим</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isOutbox<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isinbox" tabindex="-1"><a class="header-anchor" href="#isinbox" aria-hidden="true">#</a> isInbox</h2><p>Проверяет что сообщение является входящим</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isInbox<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="isimportant" tabindex="-1"><a class="header-anchor" href="#isimportant" aria-hidden="true">#</a> isImportant</h2><p>Проверяет что сообщение, является важным</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>isImportant<span class="token punctuation">;</span> <span class="token comment">// =&gt; boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="id" tabindex="-1"><a class="header-anchor" href="#id" aria-hidden="true">#</a> id</h2><p>Возвращает идентификатор сообщения или сообщения беседы</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">// =&gt; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="conversationmessageid" tabindex="-1"><a class="header-anchor" href="#conversationmessageid" aria-hidden="true">#</a> conversationMessageId</h2><p>Возвращает идентификатор сообщения из беседы</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>conversationMessageId<span class="token punctuation">;</span> <span class="token comment">// =&gt; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="peerid" tabindex="-1"><a class="header-anchor" href="#peerid" aria-hidden="true">#</a> peerId</h2><p>Возвращает идентификатор назначения</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>peerId<span class="token punctuation">;</span> <span class="token comment">// =&gt; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="peertype" tabindex="-1"><a class="header-anchor" href="#peertype" aria-hidden="true">#</a> peerType</h2><p>Возвращает тип идентификатора назначения</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>peerType<span class="token punctuation">;</span> <span class="token comment">// =&gt; string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="senderid" tabindex="-1"><a class="header-anchor" href="#senderid" aria-hidden="true">#</a> senderId</h2><p>Возвращает идентификатор отправителя</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>senderId<span class="token punctuation">;</span> <span class="token comment">// =&gt; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="sendertype" tabindex="-1"><a class="header-anchor" href="#sendertype" aria-hidden="true">#</a> senderType</h2><p>Возвращает тип идентификатора отправителя</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>senderType<span class="token punctuation">;</span> <span class="token comment">// =&gt; string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="clientinfo" tabindex="-1"><a class="header-anchor" href="#clientinfo" aria-hidden="true">#</a> clientInfo</h2><p>Возвращает информацию о клиенте отправителя</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>clientInfo<span class="token punctuation">;</span> <span class="token comment">// =&gt; Object</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="chatid" tabindex="-1"><a class="header-anchor" href="#chatid" aria-hidden="true">#</a> chatId</h2><p>Возвращает идентификатор чата</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>chatId<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="createdat" tabindex="-1"><a class="header-anchor" href="#createdat" aria-hidden="true">#</a> createdAt</h2><p>Возвращает метку времени отправки сообщения в формате Unixtime</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>createdAt<span class="token punctuation">;</span> <span class="token comment">// =&gt; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="text" tabindex="-1"><a class="header-anchor" href="#text" aria-hidden="true">#</a> text</h2><p>Возвращает текст сообщения</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>text<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="replymessage" tabindex="-1"><a class="header-anchor" href="#replymessage" aria-hidden="true">#</a> replyMessage</h2><p>Возвращает сообщение, в ответ на которое отправлено текущее</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>replyMessage<span class="token punctuation">;</span> <span class="token comment">// =&gt; MessageReply[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="forwards" tabindex="-1"><a class="header-anchor" href="#forwards" aria-hidden="true">#</a> forwards</h2><p>Возвращает пересланные сообщение</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>forwards<span class="token punctuation">;</span> <span class="token comment">// =&gt; MessageForward[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="geo" tabindex="-1"><a class="header-anchor" href="#geo" aria-hidden="true">#</a> geo</h2><p>Возвращает геолокацию</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>geo<span class="token punctuation">;</span> <span class="token comment">// =&gt; Object</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="eventtype" tabindex="-1"><a class="header-anchor" href="#eventtype" aria-hidden="true">#</a> eventType</h2><p>Возвращает тип события</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>eventType<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="eventmemberid" tabindex="-1"><a class="header-anchor" href="#eventmemberid" aria-hidden="true">#</a> eventMemberId</h2><p>Возвращает идентификатор пользователя на которого произошло событие</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>eventMemberId<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="eventtext" tabindex="-1"><a class="header-anchor" href="#eventtext" aria-hidden="true">#</a> eventText</h2><p>Возвращает текст события</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>eventText<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="eventemail" tabindex="-1"><a class="header-anchor" href="#eventemail" aria-hidden="true">#</a> eventEmail</h2><p>Возвращает email события</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>eventEmail<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="messagepayload" tabindex="-1"><a class="header-anchor" href="#messagepayload" aria-hidden="true">#</a> messagePayload</h2><p>Возвращает значение указанное в <code>payload</code>, <a href="https://vk.com/dev/bots_docs_3" target="_blank" rel="noopener noreferrer">подробнее<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span>messagePayload<span class="token punctuation">;</span> <span class="token comment">// =&gt; ?*</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="getattachments" tabindex="-1"><a class="header-anchor" href="#getattachments" aria-hidden="true">#</a> getAttachments</h2><p>Возвращает прикрепления</p><p>При передаче параметра вернёт все прикрепления указанного типа</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">getAttachments</span><span class="token punctuation">(</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Attachment[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="getinvitelink" tabindex="-1"><a class="header-anchor" href="#getinvitelink" aria-hidden="true">#</a> getInviteLink</h2><p>Получает ссылку для приглашения пользователя в беседу</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">getInviteLink</span><span class="token punctuation">(</span><span class="token punctuation">[</span>params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;Object&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Возвращает следующие свойства</p><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>link</td><td>string</td><td>Ссылка на беседу</td></tr></tbody></table><h2 id="editmessage" tabindex="-1"><a class="header-anchor" href="#editmessage" aria-hidden="true">#</a> editMessage</h2><p>Редактирует сообщение</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">editMessage</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>params</td><td>Object</td><td>Параметры</td></tr></tbody></table><h2 id="editmessagetext" tabindex="-1"><a class="header-anchor" href="#editmessagetext" aria-hidden="true">#</a> editMessageText</h2><p>Редактирует текст сообщения</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">editMessageText</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>message</td><td>string</td><td>Текст сообщения</td></tr></tbody></table><h2 id="send" tabindex="-1"><a class="header-anchor" href="#send" aria-hidden="true">#</a> send</h2><p>Отправляет сообщение в текущий диалог</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>text <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>text</td><td>string</td><td>Текст сообщения</td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Дополнительные параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="reply" tabindex="-1"><a class="header-anchor" href="#reply" aria-hidden="true">#</a> reply</h2><p>Пересылает текущее сообщение с ответом</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>text <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>text</td><td>string</td><td>Текст сообщения</td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Дополнительные параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="sendsticker" tabindex="-1"><a class="header-anchor" href="#sendsticker" aria-hidden="true">#</a> sendSticker</h2><p>Отправляет стикер в текущий диалог</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">sendSticker</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>id</td><td>number</td><td>Идентификатор стикера</td></tr></tbody></table><h2 id="sendphotos" tabindex="-1"><a class="header-anchor" href="#sendphotos" aria-hidden="true">#</a> sendPhotos</h2><p>Отправляет фото в текущий диалог</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">sendPhotos</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>source</td><td>*[]</td><td><a href="/vk-io/ru/api-reference/upload.html#messagephoto" class="">Источник загрузки</a></td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Дополнительные параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="senddocuments" tabindex="-1"><a class="header-anchor" href="#senddocuments" aria-hidden="true">#</a> sendDocuments</h2><p>Отправляет документ в текущий диалог</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">sendDocuments</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>source</td><td>*[]</td><td><a href="/vk-io/ru/api-reference/upload.html#messagedocument" class="">Источник загрузки</a></td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Дополнительные параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="sendaudiomessage" tabindex="-1"><a class="header-anchor" href="#sendaudiomessage" aria-hidden="true">#</a> sendAudioMessage</h2><p>Отправляет голосовое сообщение в текущий диалог</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">sendAudioMessage</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>source</td><td>*</td><td><a href="/vk-io/ru/api-reference/upload.html#voice" class="">Источник загрузки</a></td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.send" target="_blank" rel="noopener noreferrer">Дополнительные параметры сообщения<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="setactivity" tabindex="-1"><a class="header-anchor" href="#setactivity" aria-hidden="true">#</a> setActivity</h2><p>Изменяет статус на набор текста в диалоге</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">setActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="markasimportant" tabindex="-1"><a class="header-anchor" href="#markasimportant" aria-hidden="true">#</a> markAsImportant</h2><p>Помечает сообщение(я) как важное или наоборот</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">markAsImportant</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ids<span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number[]&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>ids</td><td>number[]</td><td>Идентификаторы сообщений (по умолчанию текущее)</td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.markAsImportant" target="_blank" rel="noopener noreferrer">Дополнительные параметры<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="deletemessage" tabindex="-1"><a class="header-anchor" href="#deletemessage" aria-hidden="true">#</a> deleteMessage</h2><p>Удаляет сообщение(я)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">deleteMessage</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ids<span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;number[]&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>ids</td><td>number[]</td><td>Идентификаторы сообщений (по умолчанию текущее)</td></tr><tr><td>params</td><td>Object</td><td><a href="https://vk.com/dev/messages.delete" target="_blank" rel="noopener noreferrer">Дополнительные параметры<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="restoremessage" tabindex="-1"><a class="header-anchor" href="#restoremessage" aria-hidden="true">#</a> restoreMessage</h2><p>Восстанавливает текущее сообщение</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">restoreMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="renamechat" tabindex="-1"><a class="header-anchor" href="#renamechat" aria-hidden="true">#</a> renameChat</h2><p>Переименовывает чат (беседу)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">renameChat</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>title</td><td>string</td><td>Новое название чата (беседы)</td></tr></tbody></table><h2 id="newchatphoto" tabindex="-1"><a class="header-anchor" href="#newchatphoto" aria-hidden="true">#</a> newChatPhoto</h2><p>Загружает новую фотографию чата (беседы)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">newChatPhoto</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;Object&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>source</td><td>*</td><td><a href="/vk-io/ru/api-reference/upload.html#chatphoto" class="">Источник загрузки</a></td></tr><tr><td>params</td><td>Object</td><td><a href="/vk-io/ru/api-reference/upload.html#chatphoto" class="">Дополнительные параметры загрузки</a></td></tr></tbody></table><h2 id="deletechatphoto" tabindex="-1"><a class="header-anchor" href="#deletechatphoto" aria-hidden="true">#</a> deleteChatPhoto</h2><p>Удаляет фотографию чата (беседы)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">deleteChatPhoto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="inviteuser" tabindex="-1"><a class="header-anchor" href="#inviteuser" aria-hidden="true">#</a> inviteUser</h2><p>Приглашает нового пользователя в чат</p><p>По умолчанию идентификатор события</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">inviteUser</span><span class="token punctuation">(</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>id</td><td>number</td><td>Идентификатор пользователя</td></tr></tbody></table><h2 id="kickuser" tabindex="-1"><a class="header-anchor" href="#kickuser" aria-hidden="true">#</a> kickUser</h2><p>Исключает нового пользователя в чате</p><p>По умолчанию идентификатор события</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">kickUser</span><span class="token punctuation">(</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr></thead><tbody><tr><td>id</td><td>number</td><td>Идентификатор пользователя</td></tr></tbody></table><h2 id="pinmessage" tabindex="-1"><a class="header-anchor" href="#pinmessage" aria-hidden="true">#</a> pinMessage</h2><p>Закрепляет сообщение</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">pinMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="unpinmessage" tabindex="-1"><a class="header-anchor" href="#unpinmessage" aria-hidden="true">#</a> unpinMessage</h2><p>Открепляет сообщение</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>context<span class="token punctuation">.</span><span class="token function">unpinMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Promise&lt;boolean&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/negezor/vk-io/edit/main/ru/api-reference/contexts/message.md" rel="noopener noreferrer" target="_blank" aria-label="Редактировать"><!--[--><!--]--> Редактировать <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Последнее обновление: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/vk-io/assets/app.4383cdfd.js" defer></script>
  </body>
</html>
